<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Image Zoom with Swipe</title>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>
    <style>
      #image-container {
        overflow: hidden;
        width: 100%;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #image-container img {
        max-width: 100%;
        max-height: 100%;
        transition: transform 0.3s ease;
      }
    </style>
  </head>
  <body>
    <div id="image-container">
      <img id="zoomable-image" src="./map.jpg" alt="Zoomable Image" />
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var image = document.getElementById("zoomable-image");
        var scale = 1;
        var mc = new Hammer(image);

        mc.get("pinch").set({ enable: true });

        mc.on("pinch", function (ev) {
          scale = ev.scale;
          image.style.transform = "scale(" + scale + ")";
        });

        mc.on("pinchend", function (ev) {
          if (scale < 1) {
            scale = 1;
            image.style.transform = "scale(" + scale + ")";
          }
        });

        mc.on("pan", function (ev) {
          if (scale > 1) {
            var deltaX = ev.deltaX;
            var deltaY = ev.deltaY;
            image.style.transform =
              "scale(" +
              scale +
              ") translate(" +
              deltaX +
              "px, " +
              deltaY +
              "px)";
          }
        });

        mc.on("panend", function (ev) {
          if (scale > 1) {
            var deltaX = ev.deltaX;
            var deltaY = ev.deltaY;
            image.style.transition = "transform 0.3s ease";
            image.style.transform =
              "scale(" +
              scale +
              ") translate(" +
              deltaX +
              "px, " +
              deltaY +
              "px)";
            setTimeout(function () {
              image.style.transition = "";
            }, 300);
          }
        });
      });
    </script>
  </body>
</html>
